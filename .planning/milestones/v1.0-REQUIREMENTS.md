# Requirements Archive: v1.0 Foundation + Sales (Validation & Documentation)

**Archived:** 2026-02-09
**Status:** SHIPPED

This is the archived requirements specification for v1.0.
For current requirements, see `.planning/REQUIREMENTS.md` (created for next milestone).

---

## v1 Requirements (Milestone 1: Foundation + Sales — Validation & Documentation)

Milestone 1 formalizes and validates the substantial work already completed. Skills are built but need formal test suites, documentation for maintainability, and verified accuracy against known Control report outputs.

### Core Foundation

- [x] **CORE-01**: control-erp-core skill complete with validated TransactionType mappings, StatusID reference, pricing logic, and standard query filters
- [x] **CORE-02**: Knowledge log captured in structured format — every validated discovery documented with date, query, and finding
- [x] **CORE-03**: Schema documentation complete for all 187+ tables with columns, types, nullable flags, and row counts
- [x] **CORE-04**: FK relationships mapped (explicit from sys.foreign_keys + inferred from naming patterns)
- [x] **CORE-05**: Domain classification complete — tables grouped into functional domains with descriptions
- [x] **CORE-06**: ClassTypeID reference compiled from wiki extracts (350+ entries) into skill-consumable format

### Sales Intelligence

- [x] **SALES-01**: control-erp-sales skill complete with DyeSub Print container variable architecture (FP_ProductDescription categories, FP_ProductID SKUs)
- [x] **SALES-02**: Table Cover product identification documented (Description pattern matching, GoodsItemID=10026)
- [x] **SALES-03**: Non-container product identification documented (Shipping, Artwork/Setup, Hardware, Custom Items)
- [x] **SALES-04**: Product category revenue validated against Control "Sales by Product" report
- [x] **SALES-05**: Customer revenue queries validated (top customers, CLV basics, account lookup)
- [x] **SALES-06**: Sales trend queries validated (monthly, quarterly, YoY comparison)

### Financial Foundation

- [x] **FIN-01**: control-erp-financial skill started with GL/Ledger architecture, sign conventions, GLClassificationType reference
- [x] **FIN-02**: GL system account NodeIDs documented (11=WIP, 12=Built, 14=AR, 21=Orders Due, 24=Customer Deposits, 91=Undeposited Funds)
- [x] **FIN-03**: Payment GL offset logic documented (WIP/Built deposits vs Sale payments)

### Wiki Knowledge Base

- [x] **WIKI-01**: Wiki crawled — 1,769 pages across control/reports/support subdomains
- [x] **WIKI-02**: 6 knowledge extracts produced covering database integration, orders/accounting, production/inventory, CRM/payroll, SQL queries, and troubleshooting
- [x] **WIKI-03**: CHAPI architecture documented from wiki — HTTP endpoint, SQLBridge functions, import stored procedures
- [x] **WIKI-04**: Crystal Reports SQL patterns extracted from wiki
- [x] **WIKI-05**: Macro automation system documented (95 trigger events, RuleAction types)

### Glossary

- [x] **GLOSS-01**: control-erp-glossary skill created with FLS-specific terminology mapping (business language -> database entities)
- [x] **GLOSS-02**: Product line terminology documented (blanket, SEG, Fab Frame, DyeLux, table throw, step and repeat, etc.)
- [x] **GLOSS-03**: Control-specific terminology mapped (CHAPI, SSLIP, CFL, SQLBridge, ClassTypeID patterns)

### Test Suite & Validation

- [x] **TEST-01**: Phase 2 test suite (21 test cases) executed with pass/fail scorecard
- [x] **TEST-02**: Revenue baseline test — "Total sales 2025" returns $3,053,541.85 (+-1%)
- [x] **TEST-03**: Product breakdown test — DyeSub Print categories match Control report totals
- [x] **TEST-04**: Customer revenue test — Top 10 customers by revenue match Control report
- [x] **TEST-05**: Date range tests — monthly, quarterly, YoY queries return consistent totals
- [x] **TEST-06**: Known-gotcha tests — TransDetailParam without IsActive filter, SubTotalPrice not TotalPrice, SaleDate not OrderCreatedDate

### Documentation & Maintainability

- [x] **DOC-01**: Skill architecture documented — dependency graph, what each skill covers, how they interact
- [x] **DOC-02**: Query pattern reference — all validated SQL patterns with natural language triggers
- [x] **DOC-03**: Business process documentation — order lifecycle (estimate -> order -> production -> shipping -> invoice)
- [x] **DOC-04**: Crystal Reports catalog — which reports exist, parameters, when to use vs. custom query
- [x] **DOC-05**: Known gotchas and pitfalls documented (things future maintainers need to know)
- [x] **DOC-06**: Validation methodology documented — how to verify skill accuracy against Control reports

## Traceability

| Requirement | Phase | Status |
|-------------|-------|--------|
| CORE-01 | Phase 1: Core Skill Verification | Complete |
| CORE-02 | Phase 1: Core Skill Verification | Complete |
| CORE-03 | Phase 2: Schema Infrastructure | Complete |
| CORE-04 | Phase 2: Schema Infrastructure | Complete |
| CORE-05 | Phase 2: Schema Infrastructure | Complete |
| CORE-06 | Phase 2: Schema Infrastructure | Complete |
| SALES-01 | Phase 4: Sales Skill Verification | Complete |
| SALES-02 | Phase 4: Sales Skill Verification | Complete |
| SALES-03 | Phase 4: Sales Skill Verification | Complete |
| SALES-04 | Phase 4: Sales Skill Verification | Complete |
| SALES-05 | Phase 4: Sales Skill Verification | Complete |
| SALES-06 | Phase 4: Sales Skill Verification | Complete |
| FIN-01 | Phase 5: Financial Foundation | Complete |
| FIN-02 | Phase 5: Financial Foundation | Complete |
| FIN-03 | Phase 5: Financial Foundation | Complete |
| WIKI-01 | Phase 3: Wiki Knowledge Formalization | Complete |
| WIKI-02 | Phase 3: Wiki Knowledge Formalization | Complete |
| WIKI-03 | Phase 3: Wiki Knowledge Formalization | Complete |
| WIKI-04 | Phase 3: Wiki Knowledge Formalization | Complete |
| WIKI-05 | Phase 3: Wiki Knowledge Formalization | Complete |
| GLOSS-01 | Phase 6: Glossary Skill Creation | Complete |
| GLOSS-02 | Phase 6: Glossary Skill Creation | Complete |
| GLOSS-03 | Phase 6: Glossary Skill Creation | Complete |
| TEST-01 | Phase 7: Test Suite Execution | Complete |
| TEST-02 | Phase 7: Test Suite Execution | Complete |
| TEST-03 | Phase 7: Test Suite Execution | Complete |
| TEST-04 | Phase 7: Test Suite Execution | Complete |
| TEST-05 | Phase 7: Test Suite Execution | Complete |
| TEST-06 | Phase 7: Test Suite Execution | Complete |
| DOC-01 | Phase 8: Documentation & Milestone Close | Complete |
| DOC-02 | Phase 8: Documentation & Milestone Close | Complete |
| DOC-03 | Phase 8: Documentation & Milestone Close | Complete |
| DOC-04 | Phase 8: Documentation & Milestone Close | Complete |
| DOC-05 | Phase 8: Documentation & Milestone Close | Complete |
| DOC-06 | Phase 8: Documentation & Milestone Close | Complete |

**Coverage:**
- v1 (Milestone 1) requirements: 35 total (7 categories)
- Mapped to phases: 35
- Unmapped: 0

---

## Milestone Summary

**Shipped:** 35 of 35 v1 requirements
**Adjusted:** None — all requirements delivered as originally specified
**Dropped:** None

---
*Archived: 2026-02-09 as part of v1.0 milestone completion*
