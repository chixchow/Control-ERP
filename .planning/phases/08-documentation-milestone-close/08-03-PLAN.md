---
phase: 08-documentation-milestone-close
plan: 03
type: execute
wave: 2
depends_on: ["08-01", "08-02"]
files_modified:
  - output/docs/validation-methodology.md
  - output/docs/milestone1-requirements-checklist.md
  - .planning/REQUIREMENTS.md
  - .planning/ROADMAP.md
  - .planning/STATE.md
autonomous: true

must_haves:
  truths:
    - "The validation methodology document explains how to reproduce any test from the scorecard — baseline, query, comparison, tolerance"
    - "All 35 requirements have a PASS/FAIL status with a specific evidence file cited for each"
    - "DOC-01 through DOC-06 are all verified as satisfied with evidence citations"
    - "REQUIREMENTS.md shows all 35 v1 requirements checked off"
    - "ROADMAP.md shows Phase 8 complete and all 8 phases complete"
    - "A 'What's Next' section lists Milestone 2 candidates grouped by requirement category"
  artifacts:
    - path: "output/docs/validation-methodology.md"
      provides: "DOC-06 — how to verify skill accuracy, reproducible methodology"
      contains: "tolerance"
    - path: "output/docs/milestone1-requirements-checklist.md"
      provides: "35-requirement cross-check with evidence citations + milestone summary + what's next"
      contains: "35/35"
  key_links:
    - from: "output/docs/milestone1-requirements-checklist.md"
      to: "validation/milestone1-scorecard.md"
      via: "evidence citations for TEST-* requirements"
    - from: "output/docs/milestone1-requirements-checklist.md"
      to: "output/docs/skill-architecture.md"
      via: "evidence citation for DOC-01"
    - from: "output/docs/validation-methodology.md"
      to: "validation/milestone1-scorecard.md"
      via: "references scorecard as example of methodology applied"
---

<objective>
Create the validation methodology document (DOC-06), cross-check all 35 requirements, and close Milestone 1 by updating REQUIREMENTS.md, ROADMAP.md, and STATE.md.

Purpose: Validation methodology ensures future milestones follow a reproducible verification process. The 35-requirement checklist proves Milestone 1 is complete. Updating project tracking files closes the milestone formally.

Output: Two new docs (validation methodology + requirements checklist), plus updates to three planning files to reflect milestone completion.
</objective>

<execution_context>
@/Users/cain/.claude/get-shit-done/workflows/execute-plan.md
@/Users/cain/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/REQUIREMENTS.md
@.planning/STATE.md
@.planning/phases/08-documentation-milestone-close/08-CONTEXT.md
@.planning/phases/08-documentation-milestone-close/08-RESEARCH.md

Evidence files (for requirement cross-check):
@validation/milestone1-scorecard.md
@skills/control-erp-core/control-erp-core-SKILL.md
@skills/control-erp-sales/control-erp-sales-SKILL.md
@skills/control-erp-financial/control-erp-financial-SKILL.md
@skills/control-erp-glossary/control-erp-glossary-SKILL.md
@documentation/control-erp-knowledge-log.md

DOC-01 through DOC-05 (created by plans 08-01 and 08-02):
@output/docs/skill-architecture.md
@output/docs/query-pattern-reference.md
@output/docs/crystal-reports-catalog.md
@output/docs/known-gotchas.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create validation methodology document (DOC-06)</name>
  <files>output/docs/validation-methodology.md</files>
  <action>
Create `output/docs/validation-methodology.md` documenting the validation methodology used in Milestone 1 (Phase 7). This is NOT a new methodology design — it documents what was actually done, so future milestones can reproduce it.

Structure:

1. **Purpose** — One paragraph: validation ensures skills produce accurate results against known Control report outputs. The methodology was developed and proven during Milestone 1 with a 21-test scorecard achieving 21/21 PASS.

2. **Methodology Steps** — Numbered list:
   1. **Establish Known Baseline** — Get a known-correct number from an authoritative source (e.g., FLS 2025 income = $3,053,541.85 from QuickBooks). This is the ground truth.
   2. **Execute MCP Queries** — Run SQL against StoreData via MCP mssql tools. Capture raw results with timestamps in a results file (e.g., `output/phase2-test-results.md`).
   3. **Cross-Reference Validation** — Compare query results against the known baseline and against each other for internal consistency. When live MCP is unavailable, cross-reference against prior validated results.
   4. **Internal Consistency Checks** — Verify that related queries agree:
      - Monthly totals sum to annual total
      - Product categories sum to total revenue
      - Top 10 customer sum <= total revenue
      - Detail-level and header-level totals are within acceptable gap
   5. **Gotcha Validation** — For each known gotcha, demonstrate the wrong approach produces incorrect results and the correct approach (from skills) produces correct results. Quantify the error magnitude.
   6. **Gate Evaluation** — Apply pass/fail gate criteria: >= 19/21 PASS and zero Tier 1 FAIL required to pass the milestone.

3. **Tolerance Definitions** — Table:
   | Metric Type | Tolerance | Example |
   |-------------|-----------|---------|
   | Revenue totals | ±1% of known baseline | $3,052,952.52 vs $3,053,541.85 (0.02% variance) |
   | Record counts | Exact match or documented reason | 1,437 orders |
   | Customer rankings | Same top 10 members, ±1 position | FLASH BANNERS #1 |
   | Product percentages | ±2% of category share | DyeSub 58.7% ± 1.2% |
   | Internal consistency | Exact (sum of parts = total) | 12 months = annual |

4. **Test Tier Structure** — Table showing the 7 tiers used in Phase 7:
   | Tier | Name | Test Count | What It Validates |
   |------|------|-----------|-------------------|
   | 1 | Revenue Baseline | 2 | Core revenue formula accuracy |
   | 2 | Revenue Drill-Down | 2 | Segmentation and breakdown |
   | 3 | Product Intelligence | 3 | Product identification patterns |
   | 4 | Customer Intelligence | 2 | Customer queries |
   | 5 | Date Range & Trends | 3 | Time-based queries |
   | 6 | Known Gotchas | 5 | Error prevention |
   | 7 | Behavioral Assessment | 4 | Skill documentation quality |
   Reference: `validation/milestone1-scorecard.md` for full scorecard.

5. **Reproducing a Test** — Step-by-step example using Test 1.1 (Annual Revenue):
   - Load skill: control-erp-core
   - Identify template: Revenue Query Formula (lines 14-29)
   - Execute query via MCP: (reference the skill, don't duplicate SQL)
   - Compare result to baseline: $3,052,952.52 vs $3,053,541.85
   - Calculate variance: 0.02% (within 1% tolerance)
   - Result: PASS

6. **Key Artifacts** — Reference table:
   | Artifact | Location | Purpose |
   |----------|----------|---------|
   | Test suite definition | phase2-test-suite.md | 21 tests in 7 tiers |
   | Scorecard | validation/milestone1-scorecard.md | Executed results (21/21 PASS) |
   | Raw MCP results | output/phase2-test-results.md | Query outputs from 2026-02-07 |
   | Revenue validation | output/skill/references/business_rules_validation.md | Revenue formula proof |

Target ~120-200 lines.
  </action>
  <verify>
Verify the file exists and contains:
- A "Methodology Steps" section with at least 5 numbered steps
- A "Tolerance Definitions" table
- A "Test Tier Structure" table with 7 tiers
- A "Reproducing a Test" example section
- Reference to milestone1-scorecard.md
- File length between 100-250 lines
  </verify>
  <done>
output/docs/validation-methodology.md exists with reproducible validation methodology, tolerance definitions, tier structure, and worked example. DOC-06 requirement satisfied.
  </done>
</task>

<task type="auto">
  <name>Task 2: Cross-check all 35 requirements and close milestone</name>
  <files>output/docs/milestone1-requirements-checklist.md, .planning/REQUIREMENTS.md, .planning/ROADMAP.md, .planning/STATE.md</files>
  <action>
**Part A: Create requirements checklist**

Create `output/docs/milestone1-requirements-checklist.md` with:

1. **Header** — "Milestone 1: Foundation + Sales — Requirements Checklist" with completion date.

2. **Summary** — One paragraph stating: 35/35 requirements verified PASS. Milestone 1 is complete. Execution time: 0.83 hours across 12 plans in 8 phases.

3. **Requirements Table** — For each of the 35 requirements, cite specific evidence. Do NOT rubber-stamp — cite the actual file and section.

Format:
| Req ID | Description | Status | Evidence |
|--------|-------------|--------|----------|

For each requirement, read the REQUIREMENTS.md description and find the evidence:
- CORE-01 through CORE-06: evidence in skills/control-erp-core/, output/schemas/, output/relationships.md, output/domains.md, output/skill/references/classtypeid_reference.md, documentation/control-erp-knowledge-log.md
- SALES-01 through SALES-06: evidence in skills/control-erp-sales/, validation/milestone1-scorecard.md (Tests 3.x, 4.x, 5.x)
- FIN-01 through FIN-03: evidence in skills/control-erp-financial/ (GL section, system accounts section, payment section)
- WIKI-01 through WIKI-05: evidence in output/wiki/ (KNOWLEDGE_BASE.md, extracts/, references/)
- GLOSS-01 through GLOSS-03: evidence in skills/control-erp-glossary/
- TEST-01 through TEST-06: evidence in validation/milestone1-scorecard.md (specific test numbers)
- DOC-01 through DOC-06: evidence in output/docs/ (the files created in plans 08-01 and 08-02 and this plan)

Read the files referenced to confirm they actually exist and contain the claimed content. Do not cite files that don't exist.

4. **What Milestone 1 Delivered** — Bulleted summary:
   - 4 Claude skills (core 347L, sales 370L, financial 856L, glossary 491L)
   - 187 table schema docs
   - 1,769 wiki pages crawled with 12 extracts and 3 formalized references
   - 21-test validation scorecard (21/21 PASS)
   - 13 known gotchas documented (preventing $1.3M+ in errors)
   - 6 maintainability documents
   - 89 FK relationships + 350+ ClassTypeID entries mapped

5. **What's Next (Milestone 2)** — Concise bulleted list grouped by v2 requirement categories from REQUIREMENTS.md:
   - **Financial:** AR aging, AP tracking, P&L with product-line breakdown, cash flow (FIN-04 through FIN-07)
   - **Customer:** Lookup, segmentation, CLV, churn detection (CUST-01 through CUST-03)
   - **Inventory:** Stock levels, reorder points, warehouse planning (INV-01 through INV-03)
   - **Production:** Artwork pipeline, station scheduling, time tracking (PROD-01 through PROD-03)
   - **HR:** Payroll, PTO, timecard reporting (HR-01, HR-02)
   - **Reports & Analytics:** Crystal Report routing skill, forecasting, dashboards (RPT-01, ANLYT-01/02, DASH-01)
   - **Deferred from M1:** .rpt file SQL extraction, Crystal Reports deep analysis

Target ~150-250 lines.

**Part B: Update REQUIREMENTS.md**

Read current REQUIREMENTS.md. Update the 6 DOC-* requirements from `[ ]` to `[x]`:
- `- [ ] **DOC-01**:` → `- [x] **DOC-01**:`
- Same for DOC-02 through DOC-06
Also update the Traceability table: DOC-01 through DOC-06 status from "Pending" to "Complete".

**Part C: Update ROADMAP.md**

Read current ROADMAP.md. Update:
- Phase 8 checkbox: `- [ ] **Phase 8:` → `- [x] **Phase 8:`
- Phase 8 Plans section: Update the three plan checkboxes to [x] with actual plan descriptions
- Progress table: Phase 8 row → `3/3 | Complete | 2026-02-09`

**Part D: Update STATE.md**

Read current STATE.md. Update:
- Current Position → Phase: 8 of 8 (Documentation & Milestone Close — Wave 4), Status: Phase complete
- Progress bar: [██████████] 100%
- Last activity: 2026-02-09 -- Completed 08-03-PLAN.md (Milestone 1 Close)
- Phase 8 Status: Complete (3/3 plans done)
- Wave 4 Status: Complete
- Next up: Milestone 2 planning
  </action>
  <verify>
Verify:
1. `output/docs/milestone1-requirements-checklist.md` exists with a table containing 35 rows (one per requirement)
2. Every row in the table has a non-empty Evidence column
3. `grep -c '\[x\]' .planning/REQUIREMENTS.md` returns 35 (all requirements checked)
4. `grep 'DOC-01.*Complete' .planning/REQUIREMENTS.md` returns a match
5. `grep 'Phase 8.*Complete' .planning/ROADMAP.md` returns a match
6. `grep '100%' .planning/STATE.md` returns a match
7. checklist has a "What's Next" section mentioning Milestone 2
  </verify>
  <done>
35/35 requirements verified with evidence citations. REQUIREMENTS.md, ROADMAP.md, and STATE.md updated to reflect Milestone 1 complete. DOC-06 satisfied. Milestone 1 formally closed.
  </done>
</task>

</tasks>

<verification>
After both tasks complete:
1. All 6 DOC-* files exist: `ls output/docs/` shows skill-architecture.md, query-pattern-reference.md, crystal-reports-catalog.md, known-gotchas.md, validation-methodology.md, milestone1-requirements-checklist.md
2. All 35 requirements marked complete: `grep -c '\[x\]' .planning/REQUIREMENTS.md` returns 35
3. Phase 8 marked complete in ROADMAP
4. STATE.md shows 100% progress
5. Checklist has 35 evidence-cited rows
6. Validation methodology references scorecard
</verification>

<success_criteria>
- DOC-06 satisfied: Validation methodology documented with reproducible steps, tolerances, and tier structure
- All 35/35 requirements verified PASS with specific evidence files cited
- REQUIREMENTS.md fully checked off (35/35 [x])
- ROADMAP.md shows all 8 phases complete
- STATE.md shows 100% progress, Milestone 1 complete
- "What's Next" section seeds Milestone 2 planning
- Milestone 1 is formally closed
</success_criteria>

<output>
After completion, create `.planning/phases/08-documentation-milestone-close/08-03-SUMMARY.md`
</output>
