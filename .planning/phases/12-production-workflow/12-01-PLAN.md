---
phase: 12-production-workflow
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - skills/control-erp-production/control-erp-production-SKILL.md
autonomous: true

must_haves:
  truths:
    - "User can ask 'what artwork is pending approval' and get status counts per artwork status (In Design, Pending Approval, Approved, Rejected) with group counts and order counts"
    - "User can drill down into a specific artwork status and see individual orders with customer name, order number, days in status, and revision count"
    - "User can ask about stuck artwork and get items that have been in a status longer than 7 days (3x the 54-hour average turnaround)"
    - "User can ask about artwork turnaround time and get the average hours from creation to approval, filtered to exclude cloned-order stale dates"
    - "User can filter artwork by designer (ArtworkPlayer with RoleID=1) to answer 'what is [designer] working on'"
    - "Artwork pipeline excludes StatusID IN (7,8,9) for actionable views -- Produced, Unknown, and Voided are terminal/non-actionable states"
  artifacts:
    - path: "skills/control-erp-production/control-erp-production-SKILL.md"
      provides: "Production skill with YAML frontmatter, overview, warnings, table architecture, and artwork pipeline queries"
      contains: "ARTWORK PIPELINE"
    - path: "skills/control-erp-production/control-erp-production-SKILL.md"
      provides: "Artwork status reference from _ArtworkStatus table"
      contains: "_ArtworkStatus"
    - path: "skills/control-erp-production/control-erp-production-SKILL.md"
      provides: "Artwork turnaround and stuck detection queries"
      contains: "STUCK"
  key_links:
    - from: "Artwork pipeline summary"
      to: "ArtworkGroup JOIN _ArtworkStatus ON StatusID"
      via: "Status aggregation with TransHeader join for order context"
      pattern: "ArtworkGroup.*_ArtworkStatus.*StatusID"
    - from: "Artwork drill-down to order"
      to: "ArtworkGroup.TransHeaderID -> TransHeader.ID"
      via: "FK join with Account for customer name"
      pattern: "ArtworkGroup.*TransHeaderID.*TransHeader"
    - from: "Designer lookup"
      to: "ArtworkPlayer.EmployeeID -> Employee.ID with ArtworkPlayerRoleLink.RoleID = 1"
      via: "Player role join chain"
      pattern: "ArtworkPlayer.*ArtworkPlayerRoleLink.*RoleID.*1"
    - from: "Revision count"
      to: "ArtworkGroupStatusHistory WHERE FromStatusID=3 AND ToStatusID=1"
      via: "Subquery count on status history"
      pattern: "ArtworkGroupStatusHistory.*FromStatusID = 3.*ToStatusID = 1"
---

<objective>
Create the control-erp-production skill with YAML frontmatter, table architecture, warnings, and artwork pipeline queries (PROD-01).

Purpose: Users need to see the artwork approval pipeline -- what's pending, what's stuck, turnaround times, and who's working on what. This creates the skill file and covers the most self-contained requirement (artwork is its own subsystem). Plan 02 extends with station workload and dwell time.

Output: New skill file `skills/control-erp-production/control-erp-production-SKILL.md` with complete artwork pipeline queries covering status summary, drill-down, stuck detection, turnaround analysis, and designer filtering.
</objective>

<execution_context>
@/Users/cain/.claude/get-shit-done/workflows/execute-plan.md
@/Users/cain/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/12-production-workflow/12-CONTEXT.md
@.planning/phases/12-production-workflow/12-RESEARCH.md
@skills/control-erp-core/control-erp-core-SKILL.md
@skills/control-erp-inventory/control-erp-inventory-SKILL.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Skill File with Table Architecture and Warnings</name>
  <files>skills/control-erp-production/control-erp-production-SKILL.md</files>
  <action>
Create the skill directory and file: `skills/control-erp-production/control-erp-production-SKILL.md`

Write the file with these sections:

**YAML frontmatter:**
```yaml
---
name: control-erp-production
description: Track artwork approvals, monitor station workload, identify production bottlenecks, and analyze station dwell time. Use when user asks about artwork, proofing, approvals, stations, production, workload, WIP, bottlenecks, dwell time, "what's in production", "pending approval", "which stations are backed up", or department queue queries. Depends on control-erp-core for business rules.
---
```

**Section 1: Header and overview**
- `# Control ERP Production Workflow -- Artwork Pipeline, Station Workload & Dwell Analysis`
- `**Depends on:** control-erp-core` (always read core first for business rules)
- Overview paragraph explaining the three pillars:
  - **Artwork Pipeline (PROD-01):** Track artwork through the approval lifecycle -- from In Design through Pending Approval to Approved/Produced. Monitor stuck items, revision rates, and turnaround times.
  - **Station Workload (PROD-02):** Monitor WIP counts and dollar values at each production station. FLS uses a dual order-level and line-item-level station model with numbered stages (0-Design through 6-Shipping).
  - **Station Dwell Time (PROD-03):** Analyze how long orders/line items sit at each station to identify bottlenecks. Based on Journal station transition timestamps, not TimeCard data.
- Key stats: 67 active stations (98 total), ~67 WIP orders, 7 active artwork statuses (out of 11), 54-hour average artwork approval turnaround, 22% revision rate

**Section 2: CRITICAL WARNINGS**
Create a prominent warnings box (use `> **WARNING**` blockquote style) with:
1. **Geography columns in Station table:** NEVER use `SELECT *` on Station. Always specify columns explicitly -- geography/spatial columns crash queries.
2. **Dual station model:** Orders have a StationID (order-level) AND each line item has its own StationID (line-item-level). These can differ. Query them separately to avoid double-counting.
3. **Journal table volume:** 5.18M total rows, 1.06M station changes (JournalActivityType=45). ALWAYS filter by date range for dwell time queries. Default: 3-month rolling window.
4. **Artwork StatusID=8 ("Unknown") is NOT an error:** 25,274 groups have this status -- orders that completed without formal artwork workflow. EXCLUDE from actionable pipeline (filter StatusID NOT IN 7,8,9).
5. **Artwork ApprovalDT can be stale:** On cloned/converted orders, ArtworkApprovalDT carries from the source order. Always filter `ArtworkApprovalDT > GroupCreatedDT` when calculating turnaround.
6. **Do NOT use TimeCard for production time:** FLS does not track per-job time via TimeCard. Station dwell time (Journal transitions) is the production time metric.
7. **Do NOT hardcode artwork statuses or station names:** Use `_ArtworkStatus` lookup table and `Station` table with ShowFor* flags. Both are user-configurable.

**Section 3: TABLE ARCHITECTURE**
Document the tables used by this skill with row counts:

| Table | Rows | Purpose | Key Columns |
|-------|------|---------|-------------|
| **TransHeader** | 232,243 | Orders (WIP = StatusID IN 1,2) | TransactionType=1, StatusID, StationID (order-level), SubTotalPrice, OrderNumber, DueDate |
| **TransDetail** | ~500K | Line items with independent StationID | StationID (LI-level), TransHeaderID, MeAndSonsSubTotalPrice, ParentID |
| **Station** | 98 (67 active) | Production stations (numbered 0-6) | StationName, SortIndex, ShowForWIP, ShowForLineItem, ShowForLineWIP, ShowOnTimeClock, DepartmentID, MarkLIComplete |
| **ArtworkGroup** | 84,770 (70,973 active) | Artwork groups per order | TransHeaderID, StatusID, AccountID, GroupCreatedDT, StatusDT, ArtworkApprovalDT, ArtworkDueDT, Description, GroupName |
| **_ArtworkStatus** | 11 | Artwork status lookup | ID, Text |
| **ArtworkGroupStatusHistory** | 164,226 | Audit trail of status changes | ArtworkGroupID, FromStatusID, ToStatusID, StatusDT, PlayerID |
| **ArtworkGroupTransDetailLink** | varies | Links artwork to line items | ArtworkGroupID, TransDetailID |
| **ArtworkPlayer** | 176,445 | Named roles on orders | TransHeaderID, EmployeeID, ContactID |
| **ArtworkPlayerRoleLink** | 174,373 | Player-to-role mapping | PlayerID, RoleID |
| **_ArtworkRole** | 8 | Role lookup (Designer=1, Approver=9) | ID, Text |
| **_ArtworkPriority** | 6 | Priority lookup (Normal=2, Rush=4, Urgent=5) | ID, Text |
| **ArtworkItem** | 41,797 | Individual artwork files | GroupID, CurrentVersion, OriginalFileName |
| **ArtworkProofFile** | 41,741 | Proof file versions | ArtworkItemID, Version, IsLatestVersion |
| **Journal** | 5.18M (1.06M station changes) | Station transitions (JournalActivityType=45) | TransactionID, LinkID (NULL=order-level), StationID (new station), StartDateTime, EmployeeID |
| **Employee** | varies | Employee lookup for designers | ID, FirstName, LastName |
| **Account** | varies | Customer lookup for artwork | ID, CompanyName |

**Artwork Status Reference (from _ArtworkStatus, FLS usage):**

| StatusID | Text | FLS Active Count | Pipeline? | Notes |
|----------|------|-----------------|-----------|-------|
| 0 | Undefined | 0 | No | Never used |
| 1 | In Design | 4,965 | **Yes** | Designer working |
| 2 | In Review | 0 | No | Never used at FLS |
| 3 | Pending Approval | 902 | **Yes** | Sent to customer for approval |
| 4 | Approved | 1,362 | **Yes** | Customer approved |
| 5 | In PrePress | 0 | No | Never used at FLS |
| 6 | In Production | 0 | No | Never used at FLS |
| 7 | Produced | 36,683 | No | Terminal -- artwork used |
| 8 | Unknown | 25,274 | No | Order completed without artwork workflow |
| 9 | Voided | 1,677 | No | Cancelled |
| 10 | Rejected | 110 | **Yes** | Customer rejected, needs revision |

**Actionable Pipeline Filter:** `StatusID NOT IN (7, 8, 9)` -- this excludes Produced, Unknown, and Voided.

**Artwork Relationship Map:**
```
TransHeader (order)
  |
  +--< ArtworkGroup (1:many, via TransHeaderID)
  |     |  StatusID -> _ArtworkStatus
  |     |  AccountID -> Account
  |     |  PriorityID -> _ArtworkPriority
  |     |
  |     +--< ArtworkGroupTransDetailLink (links to TransDetail line items)
  |     +--< ArtworkGroupStatusHistory (audit trail)
  |     +--< ArtworkItem (artwork files)
  |           +--< ArtworkProofFile (proof versions)
  |           +--< ArtworkComment (annotations)
  |
  +--< ArtworkPlayer (1:many, via TransHeaderID)
        EmployeeID -> Employee
        +--< ArtworkPlayerRoleLink (RoleID -> _ArtworkRole)
```

Add a placeholder for Plan 02: `<!-- Plan 02 adds: Station workload (PROD-02), station dwell time analysis (PROD-03), and NL routing table -->`
  </action>
  <verify>
1. File exists at skills/control-erp-production/control-erp-production-SKILL.md
2. YAML frontmatter has name and description with NL trigger terms (artwork, stations, WIP, bottleneck, dwell)
3. Overview covers all three pillars (artwork, station workload, dwell time)
4. Key stats include 67 active stations, 54-hour turnaround, 22% revision rate
5. CRITICAL WARNINGS section has all 7 warnings
6. TABLE ARCHITECTURE lists 16 tables with row counts and key columns
7. Artwork status reference table includes all 11 statuses with FLS usage data
8. Pipeline filter documented as StatusID NOT IN (7,8,9)
9. Artwork relationship map shows the full join chain
10. Plan 02 placeholder comment present
  </verify>
  <done>Skill file created with YAML frontmatter, three-pillar overview, 7 critical warnings, complete table architecture (16 tables), artwork status reference with FLS usage data, and artwork relationship map.</done>
</task>

<task type="auto">
  <name>Task 2: Add Artwork Pipeline Queries (PROD-01)</name>
  <files>skills/control-erp-production/control-erp-production-SKILL.md</files>
  <action>
Insert artwork pipeline query sections before the Plan 02 placeholder comment.

**Section 4: ARTWORK PIPELINE QUERIES (PROD-01)**

4a. **Artwork Pipeline Summary (actionable items only)**
```sql
SELECT
    s.Text AS ArtworkStatus,
    COUNT(*) AS GroupCount,
    COUNT(DISTINCT ag.TransHeaderID) AS OrderCount,
    AVG(DATEDIFF(day, ag.StatusDT, GETDATE())) AS AvgDaysInStatus
FROM ArtworkGroup ag
JOIN _ArtworkStatus s ON ag.StatusID = s.ID
JOIN TransHeader th ON ag.TransHeaderID = th.ID
WHERE ag.IsActive = 1
  AND th.TransactionType = 1
  AND th.StatusID IN (0, 1, 2)  -- New, WIP, Built orders only
  AND ag.StatusID NOT IN (7, 8, 9)  -- Exclude Produced, Unknown, Voided
GROUP BY ag.StatusID, s.Text
ORDER BY ag.StatusID
```
Add formatting guidance:
- Present as a summary table: "**[Status]**: [GroupCount] artwork groups across [OrderCount] orders (avg [AvgDaysInStatus] days in status)"
- Highlight Pending Approval and Rejected as "needs attention"
- Always note total: "**Active pipeline**: [total] artwork groups on [total orders] open orders"

4b. **Artwork Drill-Down by Status**
For when user asks to see details of a specific status (e.g., "show me pending approvals"):
```sql
SELECT
    th.OrderNumber,
    a.CompanyName AS Customer,
    ag.GroupName,
    ag.GroupCreatedDT AS Created,
    ag.StatusDT AS StatusSince,
    ag.ArtworkDueDT AS DueDate,
    DATEDIFF(day, ag.StatusDT, GETDATE()) AS DaysInStatus,
    ag.Description,
    (SELECT COUNT(*) FROM ArtworkGroupStatusHistory agsh
     WHERE agsh.ArtworkGroupID = ag.ID
     AND agsh.FromStatusID = 3 AND agsh.ToStatusID = 1) AS RevisionCount,
    pri.Text AS Priority
FROM ArtworkGroup ag
JOIN TransHeader th ON ag.TransHeaderID = th.ID
JOIN Account a ON ag.AccountID = a.ID
LEFT JOIN _ArtworkPriority pri ON ag.PriorityID = pri.ID
WHERE ag.IsActive = 1
  AND ag.StatusID = @StatusID  -- 1=In Design, 3=Pending Approval, 4=Approved, 10=Rejected
  AND th.TransactionType = 1
  AND th.StatusID IN (0, 1, 2)
ORDER BY ag.StatusDT ASC
```
Add formatting guidance:
- Show oldest items first (longest wait at top)
- If RevisionCount > 0, flag: "(revised [N] times)"
- If DaysInStatus > 7, flag: "**OVERDUE** -- [N] days in status"
- Include DueDate when available

4c. **Stuck Artwork Detection (items exceeding 7-day threshold)**
Based on the 54-hour average turnaround, 3x = ~7 days as "stuck" threshold:
```sql
SELECT
    th.OrderNumber,
    a.CompanyName AS Customer,
    s.Text AS CurrentStatus,
    ag.GroupName,
    ag.StatusDT AS StatusSince,
    DATEDIFF(day, ag.StatusDT, GETDATE()) AS DaysStuck,
    ag.ArtworkDueDT AS DueDate,
    (SELECT COUNT(*) FROM ArtworkGroupStatusHistory agsh
     WHERE agsh.ArtworkGroupID = ag.ID
     AND agsh.FromStatusID = 3 AND agsh.ToStatusID = 1) AS RevisionCount,
    pri.Text AS Priority
FROM ArtworkGroup ag
JOIN TransHeader th ON ag.TransHeaderID = th.ID
JOIN Account a ON ag.AccountID = a.ID
JOIN _ArtworkStatus s ON ag.StatusID = s.ID
LEFT JOIN _ArtworkPriority pri ON ag.PriorityID = pri.ID
WHERE ag.IsActive = 1
  AND ag.StatusID IN (1, 3, 10)  -- In Design, Pending Approval, Rejected
  AND DATEDIFF(day, ag.StatusDT, GETDATE()) > 7
  AND th.TransactionType = 1
  AND th.StatusID IN (0, 1, 2)
ORDER BY DATEDIFF(day, ag.StatusDT, GETDATE()) DESC
```
Note: The 7-day threshold is 3x the 54-hour average turnaround. Claude may adjust the threshold if user requests (e.g., "stuck more than 3 days"). Status 4 (Approved) is excluded from stuck -- approved items are progressing normally.

4d. **Artwork Approval Turnaround Time**
Average time from artwork creation to approval:
```sql
SELECT
    COUNT(*) AS ApprovedCount,
    AVG(DATEDIFF(hour, ag.GroupCreatedDT, ag.ArtworkApprovalDT)) AS AvgTurnaroundHours,
    AVG(DATEDIFF(hour, ag.GroupCreatedDT, ag.ArtworkApprovalDT)) / 24.0 AS AvgTurnaroundDays,
    MIN(DATEDIFF(hour, ag.GroupCreatedDT, ag.ArtworkApprovalDT)) AS MinHours,
    MAX(DATEDIFF(hour, ag.GroupCreatedDT, ag.ArtworkApprovalDT)) AS MaxHours
FROM ArtworkGroup ag
JOIN TransHeader th ON ag.TransHeaderID = th.ID
WHERE ag.IsActive = 1
  AND ag.StatusID IN (4, 7)  -- Approved or Produced (completed the approval cycle)
  AND ag.ArtworkApprovalDT IS NOT NULL
  AND ag.ArtworkApprovalDT > ag.GroupCreatedDT  -- CRITICAL: exclude cloned-order stale dates
  AND DATEDIFF(day, ag.GroupCreatedDT, ag.ArtworkApprovalDT) < 90  -- exclude outliers
  AND th.TransactionType = 1
  AND ag.GroupCreatedDT >= DATEADD(MONTH, -6, GETDATE())  -- last 6 months
```
Note: FLS average is ~54 hours (~2.25 business days). The `ArtworkApprovalDT > GroupCreatedDT` filter is CRITICAL -- cloned orders carry stale approval dates. The 90-day outlier filter prevents abandoned-then-approved items from skewing averages.

4e. **Turnaround Trend by Month**
For tracking improvement over time:
```sql
SELECT
    FORMAT(ag.ArtworkApprovalDT, 'yyyy-MM') AS ApprovalMonth,
    COUNT(*) AS Approvals,
    AVG(DATEDIFF(hour, ag.GroupCreatedDT, ag.ArtworkApprovalDT)) AS AvgTurnaroundHours,
    SUM(CASE WHEN DATEDIFF(day, ag.GroupCreatedDT, ag.ArtworkApprovalDT) > 1 THEN 1 ELSE 0 END) AS ExceededOneDayGoal
FROM ArtworkGroup ag
JOIN TransHeader th ON ag.TransHeaderID = th.ID
WHERE ag.IsActive = 1
  AND ag.StatusID IN (4, 7)
  AND ag.ArtworkApprovalDT IS NOT NULL
  AND ag.ArtworkApprovalDT > ag.GroupCreatedDT
  AND DATEDIFF(day, ag.GroupCreatedDT, ag.ArtworkApprovalDT) < 90
  AND th.TransactionType = 1
  AND ag.ArtworkApprovalDT >= DATEADD(MONTH, -12, GETDATE())
GROUP BY FORMAT(ag.ArtworkApprovalDT, 'yyyy-MM')
ORDER BY FORMAT(ag.ArtworkApprovalDT, 'yyyy-MM')
```

4f. **Revision Rate Analysis**
Percentage of artwork going back for revision:
```sql
SELECT
    COUNT(*) AS TotalSubmissions,
    SUM(CASE WHEN agsh.FromStatusID = 3 AND agsh.ToStatusID = 1 THEN 1 ELSE 0 END) AS Revisions,
    CAST(SUM(CASE WHEN agsh.FromStatusID = 3 AND agsh.ToStatusID = 1 THEN 1 ELSE 0 END) AS FLOAT)
        / NULLIF(COUNT(*), 0) * 100 AS RevisionRatePct
FROM ArtworkGroupStatusHistory agsh
JOIN ArtworkGroup ag ON agsh.ArtworkGroupID = ag.ID
JOIN TransHeader th ON ag.TransHeaderID = th.ID
WHERE ag.IsActive = 1
  AND th.TransactionType = 1
  AND agsh.StatusDT >= DATEADD(MONTH, -6, GETDATE())
  AND agsh.FromStatusID = 3  -- transitions FROM Pending Approval
```
Note: FLS revision rate is ~22% (896 revisions out of ~4,100 approval submissions since 2025). A revision is defined as Pending Approval (3) -> In Design (1).

4g. **Artwork by Designer**
What is a specific designer working on:
```sql
SELECT
    th.OrderNumber,
    a.CompanyName AS Customer,
    ag.GroupName,
    s.Text AS ArtworkStatus,
    ag.StatusDT AS StatusSince,
    DATEDIFF(day, ag.StatusDT, GETDATE()) AS DaysInStatus,
    pri.Text AS Priority
FROM ArtworkGroup ag
JOIN TransHeader th ON ag.TransHeaderID = th.ID
JOIN Account a ON ag.AccountID = a.ID
JOIN _ArtworkStatus s ON ag.StatusID = s.ID
LEFT JOIN _ArtworkPriority pri ON ag.PriorityID = pri.ID
JOIN ArtworkPlayer ap ON ap.TransHeaderID = th.ID
JOIN ArtworkPlayerRoleLink aprl ON aprl.PlayerID = ap.ID AND aprl.RoleID = 1  -- Designer role
JOIN Employee e ON ap.EmployeeID = e.ID
WHERE ag.IsActive = 1
  AND ag.StatusID NOT IN (7, 8, 9)
  AND th.TransactionType = 1
  AND th.StatusID IN (0, 1, 2)
  AND e.ID = @EmployeeID  -- or use: (e.FirstName + ' ' + e.LastName) LIKE '%name%'
ORDER BY ag.StatusDT ASC
```
Add guidance: To find the EmployeeID, search by name: `SELECT ID, FirstName, LastName FROM Employee WHERE (FirstName + ' ' + LastName) LIKE '%name%' AND IsActive = 1`

4h. **Artwork Pipeline with Line Item Detail**
For users wanting to see which specific line items an artwork group covers:
```sql
SELECT
    th.OrderNumber,
    ag.GroupName,
    s.Text AS ArtworkStatus,
    td.Description AS LineItem,
    td.Quantity,
    td.MeAndSonsSubTotalPrice AS LineValue
FROM ArtworkGroup ag
JOIN TransHeader th ON ag.TransHeaderID = th.ID
JOIN _ArtworkStatus s ON ag.StatusID = s.ID
JOIN ArtworkGroupTransDetailLink agtdl ON agtdl.ArtworkGroupID = ag.ID
JOIN TransDetail td ON agtdl.TransDetailID = td.ID
WHERE ag.IsActive = 1
  AND ag.StatusID NOT IN (7, 8, 9)
  AND th.TransactionType = 1
  AND th.StatusID IN (0, 1, 2)
  AND th.ID = @TransHeaderID  -- specific order
ORDER BY ag.StatusID, td.SortOrder
```

CRITICAL REMINDERS for the executor:
- Always exclude StatusID IN (7,8,9) for actionable pipeline views
- Always join TransHeader and filter TransactionType=1, StatusID IN (0,1,2) for WIP context
- Always use ArtworkApprovalDT > GroupCreatedDT for turnaround calculations
- Always filter date ranges for Journal-related queries
- Never SELECT * from Station
- Revision = ArtworkGroupStatusHistory WHERE FromStatusID=3 AND ToStatusID=1
  </action>
  <verify>
1. Section 4 (ARTWORK PIPELINE QUERIES) has 8 subsections: pipeline summary (4a), drill-down (4b), stuck detection (4c), turnaround time (4d), turnaround trend (4e), revision rate (4f), by designer (4g), line item detail (4h)
2. Pipeline summary excludes StatusID IN (7,8,9) for actionable view
3. Drill-down query includes RevisionCount subquery and Priority
4. Stuck detection uses 7-day threshold (3x average turnaround)
5. Turnaround time query filters ArtworkApprovalDT > GroupCreatedDT
6. Turnaround time has 90-day outlier filter
7. Revision rate query targets FromStatusID=3, ToStatusID=1 transitions
8. Designer query joins ArtworkPlayer -> ArtworkPlayerRoleLink with RoleID=1
9. Line item detail joins through ArtworkGroupTransDetailLink
10. All queries filter TransactionType=1 and StatusID IN (0,1,2) for WIP orders
11. Formatting guidance present for summary and drill-down views
12. Plan 02 placeholder preserved after artwork queries
  </verify>
  <done>PROD-01 fully covered with 8 artwork pipeline queries: pipeline summary, status drill-down, stuck detection (7-day threshold), turnaround time, turnaround trend, revision rate (22% reference), by designer, and line item detail. All queries use correct filters (StatusID NOT IN 7,8,9; ArtworkApprovalDT > GroupCreatedDT; TransactionType=1).</done>
</task>

</tasks>

<verification>
After both tasks complete:
1. skills/control-erp-production/control-erp-production-SKILL.md exists with valid YAML frontmatter
2. Three-pillar overview (artwork, station workload, dwell time)
3. All 7 critical warnings present in prominent warnings section
4. Table architecture documents 16 tables with row counts
5. Artwork status reference table includes all 11 statuses with FLS usage data
6. Artwork relationship map shows full join chain
7. PROD-01: 8 artwork pipeline queries covering all CONTEXT.md requirements
8. Pipeline queries exclude terminal states (StatusID 7,8,9)
9. Turnaround calculations filter ArtworkApprovalDT > GroupCreatedDT
10. Stuck detection uses 7-day threshold with adjustable guidance
11. Designer filtering via ArtworkPlayer + ArtworkPlayerRoleLink chain
12. Revision rate documented at 22% with query
13. Plan 02 placeholder present for station workload and dwell time extension
</verification>

<success_criteria>
- PROD-01 fully covered: artwork pipeline summary, drill-down, stuck detection, turnaround, trend, revision rate, by designer, line item detail
- Skill file has complete table architecture for all production-related tables
- All queries respect FLS-specific patterns (StatusID=8 excluded, ApprovalDT stale date filter, no SELECT * on Station)
- File structure ready for Plan 02 extension with station workload and dwell time
</success_criteria>

<output>
After completion, create `.planning/phases/12-production-workflow/12-01-SUMMARY.md`
</output>
